<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>新用户注册</title>
    <link rel="stylesheet" href="css/login.css">
    <script src="./js/jquery-1.4.2.min.js"></script>
    <!--背景图片自动更换-->
    <script src="./js/supersized.3.2.7.min.js"></script>
    <script src="./js/login-page/login-supersized-init.js"></script>
    <script>
        $(function () {
            $("#submit").click(function () {
                $.ajax({
                    type: "post",
                    url: "/user/register",
                    data: {
                        userName: $("#userName").val(),
                        loginName: $("#loginName").val(),
                        password: $("#password").val(),
                        rePassword: $("#rePassword").val(),
                        age: $("#age").val(),
                        sex: $(".sex").val()
                    },
                    dataType: "json",
                    success: function (result) {
                        if (result.code == "101") {
                            console.log(result.returnObj);
                            alert("注册成功，请返回登录！");
                            location.href = "/showLogin";
                        } else {
                            alert(result.msg);
                        }

                    }
                })
            })
        })
    </script>
</head>
<body>
<div class="login-container">
    <h1>ITANY 书城</h1>
    <div class="connect">
        <p>后台维护管理系统</p>
    </div>
    <form method="post" id="loginForm">
        <div>
            <input type="text" id="loginName" class="loginName" placeholder="请输入登录名" autocomplete="off"/>
        </div>
        <div>
            <input type="text" id="userName" class="userName" placeholder="请输入用户名" oncontextmenu="return false"
                   onpaste="return false"/>
        </div>
        <div>
            <input type="password" id="password" class="password" placeholder="请输入密码" oncontextmenu="return false"
                   onpaste="return false"/>
        </div>
        <div>
            <input type="password" id="rePassword" class="rePassword" placeholder="请再次输入密码" oncontextmenu="return false"
                   onpaste="return false"/>
        </div>
        <div>
            <input type="text" id="age" class="age" oninput="value=value.replace(/[^\d]/g,'')" placeholder="请输入年龄"
                   oncontextmenu="return false"
                   onpaste="return false"/>
        </div>
        <div>
            <input class="sex" type="radio" checked="checked" name="2" value="1">男
            <input class="sex" type="radio" name="2" value="2">女
        </div>
        <button id="submit" type="button">注 册</button>
    </form>
</div>
<script type="text/javascript" src="./js/randomWord.js"></script>
</body>
</html>